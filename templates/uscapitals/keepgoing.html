{% extends "_base.html" %}
{% load static %}
{% block title %}Keep Going{% endblock %}
{% block javascript %}
<script>
   const gameOver = new Audio(); gameOver.autoplay = true; gameOver.volume = .2;

   function randInt(low, high) {
      const rndDec = Math.random();
      const rndInt = Math.floor(rndDec * (high - low + 1) + low);
      return rndInt;
   }
     function encouragement() {
      let encouragementArray = ["Rome wasn't built in a day.","Tell me and I forget, teach me and I may remember, involve me and I learn.","The beautiful thing about learning is nobody can take it away from you.",
      "If knowledge is power, then learning is a superpower.","The expert in anything was once a beginner.","An investment in knowledge pays the best interest."];
      getInt = randInt(0,5);
      encouragement = encouragementArray[getInt];
      return encouragement;
   }
   function unlockAudio() {
      gameOver.src = '/static/audio/silence.wav';
   }
    window.addEventListener('load', function() {
      document.body.addEventListener("DOMContentLoaded", function() {
         unlockAudio();
       });

        percentage  = sessionStorage.getItem("percentage");
        result = sessionStorage.getItem("result");
        percentage2  = sessionStorage.getItem("percentage2");
        result2 = sessionStorage.getItem("result2");

        if (result == null || result2 == null) {
           gameOver.src = '/static/audio/gameover.wav';
           percent.innerText = 0;
           percent2.innerText = 0;
        } else {
           gameOver.src = '/static/audio/gameover.wav';
           percent = document.getElementById('percent');
           percent.innerText = result;
           percent2 = document.getElementById('percent2');
           percent2.innerText = result2;
        }
        let message = encouragement();
        msg = document.getElementById('finalMessage'); msg.innerHTML = message;
        msg2 = document.getElementById('finalMessage2'); msg2.innerHTML = message;
        });
</script>
<style>
   body {background-repeat: no-repeat;background-attachment: fixed; background-position: center center;}
   #title {border-style: solid; border-width: thin; background: rgba(232, 232, 232, 0.95);text-align: center;width: auto;max-width: 60rem;height: 8rem;box-sizing: border-box;padding: 1rem;font-size: larger;z-index: 10;margin: auto;}
   #title2 {border-style: solid; border-width: thin; background: rgba(232, 232, 232, 0.95);text-align: center;width: 85%;height: 8rem;box-sizing: border-box;padding: 1rem;font-size: larger;z-index: 10;margin: auto;}
   #titlesmall {background: rgba(232, 232, 232, 0.90);text-align: center;width: 100%;height: 10%;font-size: small;margin: auto;z-index: 10;position: relative;}
   hr {width: 50%;}
   #scoreboard {background: rgba(232, 232, 232, 0.95); height: 20rem; width: 40rem;}
   #scoreboard2 {background: rgba(232, 232, 232, .95);background-position: center;width: 85%;height: auto;position: relative;box-sizing: border-box;margin: auto;border-style: solid;border-width: thin;text-align: center;}
   #button1 {margin: 0%;}#button2 {margin: 0%;}#button12 {margin: 0%;}#button22 {margin: 0%;}
   .button-link:hover {background-color: gray;color: white;}
   .button-link:active {background-color: blue;box-shadow: 0 5px #667;transform: translateY(4px);}
   #button[disabled]{background: grey;} h4 {margin: bottom 0;}
   .button-link {background-color: black; border-style: none solid solid none;color: white;display: block; font-family: Verdana, Geneva, sans-serif; padding: 1px 76px; text-decoration: none; text-indent: 0rem; text-shadow: none;
    text-align: center; box-sizing: border-box; border-radius: 0.5rem; cursor: pointer; position: relative; margin:auto; width: 15rem; height: 2rem; margin-left:.25rem}
</style>
{% endblock %}
{% block main %}
<body class=".backgroundimg" style="background-image: url('{% static 'Images/globe.jpg' %}');">
   <div id="title" class="mt-5 d-none d-lg-block">
      <p><h1 id="titlesection" class="justify-content-center font-weight-bold mt-4">US Capitals</h1></p>
   </div>
   <div id="scoreboard" class="container justify-content-center d-none d-lg-block mb-5">
      <div class="row justify-content-center mt-5"><h2 class="mt-5 ">Keep Playing!</h2></div>
      <hr>
      <div class="row justify-content-center mb-2 font-weight-bold"><div>You scored</div><p id="percent" class="ml-1">0</p><p>%</p></div>
      <div class="row justify-content-center"><p id="finalMessage" class="ml-2">Rome wasn't built in a day.</p><p class="font-weight-bold ml-1 mr-1"></p></div>
      <hr>
      <div class="row justify-content-center">
         <a type="button" class="button-link mr-3 mt-3" href="{% url 'uscapitals:uscapitals' %}">Play Again</a>
         <a type="button" class="button-link mr-3 mt-3" href="{% url 'pages:homepage' %}">Home</a>
      </div>
   </div>
<!--Mobile-->
<div id="title2" class="mt-2 d-lg-none d-md-block">
      <p><h2 class="justify-content-center font-weight-bold mt-4 d-lg-none d-md-block">US Capitals</h2></p>
   </div>
   <div id="scoreboard2" class="container justify-content-center d-lg-none d-md-block mb-5 mt-3">
      <div class="row justify-content-center mt-3"><h3 class="mt-3 ">Keep Playing!</h3></div>
      <hr>
      <div class="row justify-content-center mb-2 font-weight-bold"><div>You scored</div><p id="percent2" class="ml-1">0</p><p>%</p></div>
      <div class="row justify-content-center"><p id="finalMessage2" class="ml-2">Rome wasn't built in a day.</p><p class="font-weight-bold ml-1 mr-1"></p></div>
      <hr>
      <div class="row justify-content-center mb-3">
      </div>
      <div class="row justify-content-center mb-3">
         <a type="button" class="button-link mr-3 mt-3" href="{% url 'uscapitals:uscapitals' %}">Play Again</a>
         <a type="button" class="button-link mr-3 mt-3 mb-3" href="{% url 'pages:homepage' %}">Home</a>
      </div>
   </div>
</body>
</html>
{% endblock %}